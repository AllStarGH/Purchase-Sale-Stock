0.登录、注册、角色权限..etc
1.进货、入库、销售
2.供应商增删改查
3.商品增删改查
4.进货管理、进货单、库存维护
5.客户管理：客户增删改查
6.商品销售[出货管理]：出货单、库存维护
7.统计分析：待定
----------------------------

注册时间后台自生成
----------------------------

前段界面之美化可以搜索一些前段框架(导入包即用)和弹出层插件
----------------------------

注册必填信息:名,密码,电话号码
用户名唯一
密码要拌盐(后台)
电话号码需检查关联之账号数量(=1,后台)
-----------------------------
本系统允许全体账户登录和局部操作,不同模块对不同角色开放操作,

+ 系统管理员负责账号模块

+ 供应模块由采购经理负责

+ 售卖模块(含退货)由销售经理负责

+ 仓管模块由仓管负责

+ 总经理负责申批属下由各模块生成的申请单(采办/入库/出库/退货等申请),决定是否同意

---------------------------------------

* 每次操作皆有记录(存入文本文件中)

* 其他岗位无法进入自己职权外的模块.
-----------------------------

0.点击编辑链接，将目标uid发与后台
1.根据uid获取目标账号的名字、电话、职权、地区部门，利用ModelMap转发至前台待改页面
2.填好信息，发与后台，服务层备齐异常，同时记录下当前时间(年月日),一并修改数据库modifierTime
3.控制器返前200,弹示成功,跳转至列表页
-----------------------------

0.按地区部门展示所属(下拉框)
1.按职务权限展示所属(下拉框)
2.按已激活/已注销展示(下拉框)
3.按名搜索(可模糊查询)
-----------------------------

批量重置多个账号的密码

0.取出他们的盐值
1.逐一生成密文:默认字符串+盐值=密码
2.逐一更新他们每个人的密文
-----------------------------


>>> 实体设计(初步)

- 采购经理业务(采买模块):所购货物(允许重复)/是否已同意/供货商/所购数量/本次采买金额/支付方式/是否已支付/是否已入库/经手人/采购之时间

- [POVO]库存总览盘点:商品全名(xx牌xxx)/所属供应商(唯一)/库现存量/库存总值/上次该类货物入库时间/上次该类货物出库时间

- (仓库主管)入库:此次入库商品名(允许重复)/供货商/是否已同意/此次入库数量/单价/采办者/入库经办人/入库时间

- (仓库主管)出库:此次出库货品/此次出库数量/单价/所属货商/是否已同意/出库经办者/发往之地区部门/库存余量/出库时间

- 销售模块(单次):本次售出商品/客户名/供货商/定价金额/支付方式/是否已付款/销量/销售员(普通雇员)/销售时间

- [POVO]货品销量盘点:商品名(xx牌xxx)/货商/已出总销量/已销售总值/已退货量/已退货总值/上次售出之时间/上次退货时间

- 退货模块:退货货品/客户/货商/退货量/均价/是否已同意/支付方式/是否已退款/经手人/退货时间

- 活动记录日志:暂时...

>>>
-----------------------------

账号管理模块活动日志设计:

登录记录(无论是否成功,记录下用户名与密码);
注册记录:xx于x年x月x日注册成功,岗位为xx,地区部门为xxx,执行者为管理员z
激活注销:xxx于某年某月某日被注销/激活,执行者为管理员z
修改:y地区部门xxx于某年某月某日更改了资料,执行者为管理员z
删除:y地区部门xxx于某年某月某日被删除账号,执行者为管理员z

输入到log文本文件内,前台页面"模块活动日志"里的内容便直接从log中获取,展示,当log文件超出一定大小后,重新清空文本内容.

在C层截取参数,MS层进行业务处理,再返给V层.
-----------------------------

注册缺失session参数,将无法记下注册时的记录注册执行者(因改动麻烦,不再重构).

上句已解决.
-----------------------------

## 采购模块(采购经理负责,其权限2)

数据表设计:  *所购货物(允许重复)/是否已同意/供货商/所购数量/本次采买金额/支付方式/是否已支付/是否已入库/经手人/采购之时间*


````````````````


CREATE TABLE purchase (
  purchase_id int(13) not null auto_increment comment '主键ID',
  commodity varchar(44) not null comment '所购之货物',
  is_agree int(1) not null default 0 comment '是否已获批:0-未获批,1-已获批',
  supplier varchar(44) not null comment '供货商',
  quantity int(11) not null comment '所购货物之数量',
  amount_money FLOAT(18) not null comment '耗资金额',
  payment_method int(1) not null default 0 comment '支付方式:0-现金,1-网银,2-信用卡,3-其它',
  is_pay int(1) not null default 0 comment '是否已支付:0-未支付,1-已支付',
  is_enter_store int(1) not null default 0 comment '是否已经入库:0-未入库,1-已入库',
  operator varchar(44) not null comment '本次采买活动之经办人',
  purchase_time DATETIME not null comment '采买活动之时间',
  primary key (purchase_id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;



````````````````

+ 使用`逆向工程`初始化purchase表
--------------------------------------------------

试图通过pagehelper插件来完成分页查询功能,但失败;
转而采取利用JavaScript将全部数据"分页"展示.
--------------------------------------------------

查看个人历史办理采购单一览:根据办理者只展示由他负责经办的采买申请单
--------------------------------------------------

采购表:重新定义'is_enter_store'字段,修改注释为"是否已取货,0-未取货,1-已取货",且修改字段名为"has_take_goods"

拟 新增 1列:货品分类:classify(电器/食品/服装/日用品/饮品)
--------------------------------------------------

===========================================================
## 把本系统设想为某家批发商的进销存管理系统.

模块为仓库管理模块:
0.仓库管理:
  管理对象:货物
  主要业务:登记入库,存储堆放,出库记录

1.1.货仓分类放置:
   单一类型存储区域==={货品分类};
   此外,还存在一个混合堆集区.

1.2.入库登记表:

    {申请采购单ID/货物名/供应商/数量/价值金额/本批采购经办/是否已获批/货品分类/----->[从外表中获取,与本数据表组建联合实体]},

    本批次经办仓管,
    入库时间,
    同意否(0否1可)

1.3.出库记录表
        货品申请提取者(销售部经理)/目的地/提货数量/本次出库经手仓管/仓管同意否(0否1可)/出库时间/货物存储区域
--------------------------------------------------

2.流程:
前提条件:采购表中`已获批`和`已取货`同时满足,该批货物方可入库(方可进入仓管待处理入库申请队列);

采购经理按单一种类来采购,入库,则该一批次便属于"单装"存储类型单元(批次);

2.1.登记录入:仓管审查`已取货`的采购审单,审单上已有{申请采购单ID/货物名/供应商/数量/价值金额/本批采购经办/是否已获批/货品分类/采购日期}信息,
仓管需要补充   *[ 本批次经办仓管,    入库时间,    补充备注,    同意否(0否1可)  ]*   信息,
而   "存储区域==={货品分类}"   默认等同填入,
需要双表联查,结果由联合实体VO承载;

```

#录入

-- 本批次经办仓管,入库时间, 同意否(0否1可), 存储区域(0,1,2,3,4,5)

-- 货物名/供应商/数量/价值金额/本批采购经办/是否已获批

```

2.2.仓储管理:
        仓储管理划分为单装五大区(0-1-2-3-4)和混装大区(5);

        浏览全部货物,逐批查详;        

>
>>>
        各种条件查询:
                按供应商,
                按分类存储区域,  
                按入库时间(天),  
                按登记经办仓管,
                按数量,
                按采购经办,
                按输入的货物名(可模糊)
>>>
>
-
        修改:
        0.修改某一批次货物的存储信息(货物名/供应商/数量/存储区域/采购经办/采购时间/入库时间),最新修改时间自动生成(on update),留下改动者信息;
        0.1.回滚到改动前上一次信息

-
        1.抽取某一批次的部分货物,补充到另一批次的货物数量上(此减彼增),要留下调动者信息和调动时间;
        1.1.回滚到调动前上一次信息

-
        2.混合种类组装:将多个批次全部货物或部分货物整合为一个单元(即新建一个存储单元),存储类型为"混装"(异于"单装"),存储区只能存入"混合集装区",留下调整者和调整信息(来自哪些批次/抽调整合时间);
        2.1.回滚至调整前一次状态.


``````

#货仓维护信息表

-- 最近修改时间,
-- 修改者(代号,基本类型,从外表中获取),
-- 修改类型(0:修改单装区内某一批次货物的存储信息,1:货品之间数量抽调,2:组装混合种类货品单元)

-- 变动信息简略:
-- 17s(第17批次自行修改设定,s:self),
-- 22a36(第22批次添加到第36批次,a:add to),
-- w15&17&51p10&43&45i3(抽调第15/17/51批次的全部货物,再抽调第10/43/45批次的部分货物,整合组建为新存储混装单元3;w:whole,p:partial,i:integrated).

``````

2.3.出库意见:仓管查看(由销售部发出的提货申请单,部分类型客户需要审核部同意提货)提货单,根据提货单,从仓库中挑选抽调货品,填写出库记录;
    当出现存货不足/运输困难等情况时,仓管员可暂不同意提货请求,并向审批部和销售部提供理由(在提货单之上).

``````
#货品出库记录表

#invoked:货品名/数量/目的地(客户地址)/提货申请者/客户名/申请时间/截止时间

#仓管回复:可否(0否/1可),理由补充: ...  (80字以内).

``````
                         
2.3.1.出库记录所需填写信息:货物名/数量/原存储区域/同意与否;
所需全部信息:货物名/数量/原存储区域/同意放行与否+提货申请者+目的地+审核部批准意见+出库时间+经手仓管+出库备注;

2.3.2.出库记录查询:
(1)按分区
(2)按仓管
(3)按申请时间(天)

-----------------------------------------------------------


===========================================================

销售模块:


``
    0."单一种类销售单":本次售出商品/客户名/定价金额/已付款金额/支付方式/客户是否已付款(0未,1已付定金,2多于定金少于全款,3已全款付完)/客户订购数量/销售负责人(普通雇员或销售经理)/销售时间/现今是否有足够存货(0-无,1-少量,2-半数左右,3-勉强供应,4-完全满足);
    0型付款状态时,该销售单需要预先提交至审核部,通过批准后方可转化为提货单.

``
    1."混合种类销售单":{{
    单一种类销售单0,
    单一种类销售单1,
    单一种类销售单2,
    单一种类销售单n...},
    本单销售负责人,销售时间,客户,付款状态};

``
    2.
    (1).每日销售情况:各商品之名/各商品售出数量/各商品销售金额;
    排序.
    每月销售情况:...,排序.

``
    (2).按种类显示销售情况:种类名/种类区销量/种类销售金额总额;
    排序

``
    (3).客户显示:
    1.显示全部客户
    2.显示欠款客户(付款类型:0/1/2),排序
    3.显示良好信誉客户(付款类型全为3),排序.

``
    3.提货申请单:
    涉及0型付款之客户需要经审核部批准,方可转至仓管部排队待阅;
    货物名/数量/目的地(即客户所在)/客户名/提货申请者/申请时间/截止时间


将以上出现之部分表格,导出为本地Excel文件.

--------------------------------------------------

采购部提交采购申请--->审核部接收全部待处理(未获批)申请

--------------------------------------------------

+ 不同意进入仓库--->暂时存放于外部临时区9

+ 某些情况下某些已同意入库的货物也可能会暂时放置在外部临时区域 

--------------------------------------------------


采购模块:按不同条件查询

+ 按数字ID

### 模糊

+ 按名称
+ 供应商

### 类别

+ 已未支付
+ 支付方式供+ 已未取货
+ 货型分类
+ 已未获批

**只能查询到由本人亲手经办的采购申请单**

--------------------------------------------------

--------------------------------------------------
